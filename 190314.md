# 190304-

---

- 처음은 create-react-app로 환경 설정하는게 좋다.([https://reactjs.org/docs/create-a-new-react-app.html](https://reactjs.org/docs/create-a-new-react-app.html))
- JSX → 템플레이팅이 매우 편하다. 이전엔 lit-html같은 프론트엔드 영역의 템플레이팅을 도와주는 라이브러리가 있었다.
- 리액트는 컴포넌트 기반이다. → html과 연관지어서 생각하는게 좋다. web-component도 찾아볼 것.
- component가 무엇을 의미하는지 생각해 볼 것. → 컴포넌트에는 여러가지 의미가 있다.
- 리액트는 어떤 방식으로 설계하는 것이 좋은가?
  - 질문: top-down? bottom-up?
    - 일반적으로 웹 설계는 top-down 방식이 좋다. ⇒ 기획이 유동적이기 때문에 큰 부분에서 작은 부분으로 나눠가는 것이 좋다.
    - 리액트는 컴포넌트 기반이기 때문에 html 설계와 비슷하게 생각하면 좋다. html이 레이아웃을 크게 잡고 내부 요소들을 작게 쪼개는 것처럼 리액트도 비슷한 방식으로 코드를 작성하는게 좋다. 컴포넌트를 작게 나눠가는 과정이 리펙토링이다.
    - 작게 쪼개는 과정이 무조건 좋은가? 그렇지 않다. 너무 많은 컴포넌트가 만들어지면 코드를 보기 힘들다. 많은 컴포넌트가 생성되면 폴더 단위로 나눠 가독성이 좋도록 해야 한다.
- 컴포넌트 설계는 어떻게 하는 것이 좋은가?
  - 순수함(단일책임원칙), 재사용, 일관성(컴포넌트 제작 가이드(main concept)를 외워야한다. → [https://reactjs.org/docs/hello-world.html](https://reactjs.org/docs/hello-world.html))
  - 순수함을 지키고 일관성을 유지하는 것은 매우 중요하며 이것을 지키도록 노력해야 한다. 하지만 재사용을 염두하고 코드를 작성하는 것은 어렵기 때문에 일단 두가지 원칙을 지키고 재사용성은 그 이후에 고민하는 것이 좋다.
  - 설계 단계
    - 첫번째는 현재 코드에 최적화하기, 이후에 쪼갠다.(단일책임원칙)
    - 두번째, 돌아가서 리펙트링한다.
    - 세번째, react는 warning(잠재적인 리스크가 있다.) 메세지가 나타난다. 코드가 정상적으로 작동하더라도 늘 이 메세지를 유념할 것.
- 리액트 라이프 사이클
  - 만약 쇼핑몰을 만든다고 하자. 제품 리스트는 렌더링하기 전에 하는게 좋을까? 후에 하는 것이 좋을까?
    - 비동기 통신에 의한 작업이기 때문에 제품 리스트를 업데이트 할 때 렌더링 전에 하는게 좋다(Did). 라이프 사이클을 명확하게 아는 것이 중요하다.([http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/](http://projects.wojtekmaj.pl/react-lifecycle-methods-diagram/))
- mount(돔에 넣는 행위), unmount(돔에서 제거되는 행위)
- shouldComponentUpdate는 조건문으로 판단하여 렌더링을 해야하는지 직접 설정할 수 있는 메소드이다. forceUpdate()는 조건을 거치지 않고 무조건 실행된다. 렌더링을 최소화하려면 shouldComponentUpdate를 잘 사용해야 한다. render가 몇번 찍히는지 확인해볼 것.(같은 내용이면 렌더링하지 않아도 된다.)
- vertual dom - Reconciliation : 이 부분에 대해 잘 알아야 고급 개발자이다. 가상돔이 실제 돔에 렌더링되는지 알 수 있는지 판단하는 것. 효율적으로 최소한의 변화만 주기 위한 알고리즘. ("왜 li에 key값을 줘야 하는가??" ⇒  최소한의 변화를 주기 위해 한다. )
- fiber : Reconciliation과 관련하여 공부할 것.
- 어떻게 싱글 스레드에서 렌더링이 블록킹 되지 않고 이루어질 수 있는가? request idle callback 공부해 볼 것.
- hook 메소드가 최근에 들어와서 react에 큰 변화가 있었다.
- 함수형으로 짤 때는 라이프사이클이 내부에 숨겨져있다. render함수는 여전히 존재한다. ⇒ hook API가 새롭게 생겼다. 함수형에도 상태를 유지할 수 있게 되었다.
- react의 각 메서드, 라이프 사이클, 주요 개념들의 존재하는 의미를 생각해볼 것.
- 가상 돔은 실제 돔에 대한 정보를 가지고 있다(상태를 가지고 있다.).
- 리액트는 렌더링 되기 전에 임베디드 데이터를 이스케이프 처리해서 XSS 공격을 막는다.
- 컴포넌트 안에 하나의 파일로 짜도록 한다. 또 파일의 수가 많아지면 계층을 나누면 된다.
- statefull → state 있음, stateless → state가 없다(rendering만 하는 것, pure component).
- 더 궁금하면 github react의 코드도 까보기.